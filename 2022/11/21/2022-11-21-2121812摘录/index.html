
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>大二的算法学习摘录 - 迪士尼在逃小公主</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="迪士尼在逃小公主的个人博客,2121&amp;#x2F;8&amp;#x2F;12 
异或1可以实现01之间的转换
123456789101112131415161718192021222324252627282930313233343536,"> 
    <meta name="author" content="zhangguanxin"> 
    <link rel="alternative" href="atom.xml" title="迪士尼在逃小公主" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="大二的算法学习摘录 - 迪士尼在逃小公主"/>
    <meta name="twitter:description" content="迪士尼在逃小公主的个人博客,2121&amp;#x2F;8&amp;#x2F;12 
异或1可以实现01之间的转换
123456789101112131415161718192021222324252627282930313233343536,"/>
    
    
    
    
    <meta property="og:site_name" content="迪士尼在逃小公主"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="大二的算法学习摘录 - 迪士尼在逃小公主"/>
    <meta property="og:description" content="迪士尼在逃小公主的个人博客,2121&amp;#x2F;8&amp;#x2F;12 
异或1可以实现01之间的转换
123456789101112131415161718192021222324252627282930313233343536,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
<meta name="generator" content="Hexo 6.2.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">迪士尼在逃小公主</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">大二的算法学习摘录</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">大二的算法学习摘录</h1>
        <div class="stuff">
            <span>十一月 21, 2022</span>
            

        </div>
        <div class="content markdown">
            <p>2121&#x2F;8&#x2F;12 </p>
<p>异或1可以实现01之间的转换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N = 6;</span><br><span class="line">int dx[N] = &#123;-1, 0, 1, 0, 0&#125;, dy[N] = &#123;0, 1, 0, -1, 0&#125;;</span><br><span class="line">char g[N][N], backup[N][N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 这个操作是把(x, y)以及上下左右的灯都变成相反的颜色</span><br><span class="line">void turn (int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">    for (int i = 0; i &lt; 5; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        int a = x + dx[i], b = y + dy[i];</span><br><span class="line"></span><br><span class="line">        //如果在边界外边，直接忽略即可</span><br><span class="line">        if (a &lt; 0 || a &gt;= 5 || b &lt; 0 || b &gt;= 5) continue;</span><br><span class="line"></span><br><span class="line">        g[a][b] ^= 1;   //异或，也就是半加运算，不进位的二进制运算</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    while(n -- )</span><br><span class="line">    &#123;</span><br><span class="line">        // 按行输入，把每一行当成一个字符串</span><br><span class="line">        for (int i = 0; i &lt; 5; i ++ ) cin &gt;&gt; g[i];</span><br><span class="line"></span><br><span class="line">        int res = 10;</span><br><span class="line"></span><br><span class="line">        // 这里我们枚举了第一行的32种按法，不用管是亮是灭，把第一行所有情况都按一遍</span><br><span class="line">        // 按每种情况的第一行，去遍历接下来的行</span><br><span class="line">        // 枚举32种第一行的按法只是可能会减少步数，如果直接从第二行开始答案一定是固定的了，找不到最优解或者可能没有解</span><br><span class="line"></span><br><span class="line">        for (int op = 0; op &lt; 32; op ++ ) 2的5次方可写成1&lt;&lt;5表示成二进制100000，可理解成往左拉</span><br><span class="line">        &#123;</span><br><span class="line">            // 我在对这种情况操作的时候，得先备用一下</span><br><span class="line">            // 把原始数组备份一下，然后操作g，操作完了还原，然后再操作</span><br><span class="line">            memcpy(backup, g, sizeof g);</span><br><span class="line"></span><br><span class="line">            int step = 0;</span><br><span class="line"></span><br><span class="line">            // 第一行的按法(在这里 1 表示按了, 0 表示不按)，这里只是为了输出第一行按完之后的状态</span><br><span class="line">            for (int i = 0; i &lt; 5; i ++ )</span><br><span class="line">                if (op &gt;&gt; i &amp; 1)  // 数字2 对应了 00010 表示第2个位置的按一下</span><br><span class="line">                                  // 00010 &gt;&gt; 1 &amp; 1  是1 所以turn(0, 1) 就是第一行第二个位置</span><br><span class="line">                &#123;                 // 数字3 对应了00011 表示第1 和第2个位置的按一下</span><br><span class="line">                    step ++ ;</span><br><span class="line">                    turn (0, i);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            // 然后通过第一行按完之后的状态，按234行</span><br><span class="line">            for (int i =0; i &lt; 4; i ++ )</span><br><span class="line">                for (int j = 0; j &lt; 5;j ++ )</span><br><span class="line">                    if (g[i][j] == &#x27;0&#x27;)</span><br><span class="line">                    &#123;</span><br><span class="line">                        step ++;</span><br><span class="line">                        turn (i + 1, j);  // 如果这个位置是灭的，就按下一行对应的位置</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">            bool dark = false;</span><br><span class="line">            for (int j = 0; j &lt; 5; j ++ )</span><br><span class="line">                if (g[4][j] == &#x27;0&#x27;)</span><br><span class="line">                &#123;</span><br><span class="line">                    dark = true;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            // 对于32种情况的这一种，如果所有的全亮就记录下步数(事实上只记录了最后一行是否dark)</span><br><span class="line">            if (!dark) res = min(res, step);</span><br><span class="line">            memcpy (g, backup, sizeof g);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(res &gt; 6) res = -1;</span><br><span class="line">        cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>单调队列</p>
<p>​	消除冗余元素</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812215641651.png" alt="image-20210812215641651"></p>
<p>前一个数比后一个数小，那么它的存在就没有了意义</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812220128232.png" alt="image-20210812220128232"></p>
<p>每次找最小值，就访问队首就可以了，O(1)的时间复杂度</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812220357001.png" alt="image-20210812220357001"></p>
<p>起到维护题目所给队列的最小元素是哪一位的这么一个作用</p>
<h5 id="相关题目"><a href="#相关题目" class="headerlink" title="相关题目"></a>相关题目</h5><p>求滑动窗口最大最小元素</p>
<p>求离得最近的较小或较大的数</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812222229597.png" alt="image-20210812222229597"></p>
<p>维护了一个单调栈</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812222417391.png" alt="image-20210812222417391"></p>
<p>q[hh]表示栈中的头指针所代表的原数组的位置</p>
<p>q[tt]表示栈中的尾指针所代表的原数组的位置</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812223120233.png" alt="image-20210812223120233"></p>
<h5 id=""><a href="#" class="headerlink" title=""></a></h5><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812223305796.png" alt="image-20210812223305796">c</p>
<ul>
<li><p><input checked="" disabled="" type="checkbox"> 
&#96;&#96;&#96;#include<iostream><br>#include<cstdio><br>#include<algorithm><br>#include<cstring></p>
<p>using namespace std;<br>typedef long long ll;<br>const int N &#x3D; 1e6 + 10;<br>int a[N], q[N];</p>
<p>int main() {<br>ios::sync_with_stdio(false);<br>int n, k;<br><br>scanf(“%d%d”,&amp;n,&amp;k); &#x2F;&#x2F;这里只能用scanf，不然会tle<br><br>for (int i &#x3D; 0; i &lt; n; i++) {<br>    &#x2F;&#x2F;TODO<br>    scanf(“%d”,&amp;a[i]);<br>}<br>int hh &#x3D; 0, tt &#x3D; -1;<br>for (int i &#x3D; 0 ; i &lt; n ; i++) {<br>    if (hh &lt;&#x3D; tt &amp;&amp; (i - q[hh] + 1) &gt; k)hh++;  &#x2F;&#x2F;这里的hh&lt;&#x3D;tt可省略<br>    while (hh &lt;&#x3D; tt &amp;&amp; a[i] &lt;&#x3D; a[q[tt]])tt–; &#x2F;&#x2F;这里必须加判断底线 hh&lt;&#x3D;tt，以及注意这里的小于等于a[i] &lt;&#x3D; a[q[tt]，等于是因为越后面的数存在意义越大<br>    q[++tt] &#x3D; i;<br>    if (i &gt;&#x3D; k - 1)printf(“%d “,a[q[hh]]);<br>}<br>hh &#x3D; 0, tt &#x3D; -1; &#x2F;&#x2F;注意初始化<br>printf(“\n”);<br>for (int i &#x3D; 0 ; i &lt; n ; i++) {<br>    if (hh &lt;&#x3D; tt &amp;&amp; (i - q[hh] + 1) &gt; k)hh++; &#x2F;&#x2F;i与队首的位置相差不能超出边界<br>    while (hh &lt;&#x3D; tt &amp;&amp; a[i] &gt;&#x3D; a[q[tt]])tt–;<br>    q[++tt] &#x3D; i; &#x2F;&#x2F;这里注意是++tt<br>    if (i &gt;&#x3D; k - 1)printf(“%d “,a[q[hh]]); &#x2F;&#x2F;从k-1时开始输出<br>}<br><br>return 0;<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  ![image-20210812230410396](C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210812230410396.png)</span><br><span class="line"></span><br><span class="line">![image-20210813204454910](C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210813204454910.png)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>#include<cstdio><br>#include<algorithm><br>#include<cstring></p>
<p>using namespace std;<br>typedef long long ll;<br>const int N &#x3D; 50010;<br>int a[N], q1[N], q2[N];</p>
<p>int main() {<br>    &#x2F;&#x2F;ios::sync_with_stdio(false);<br>    int n, k;</p>
<pre><code>scanf(&quot;%d%d&quot;, &amp;n, &amp;k); //这里只能用scanf，不然会tle
int l1 = 1, l2 = 1, r1 = 0, r2 = 0, j = 1;
ll ans = 0;
for (int i = 1; i &lt;= n; i++)scanf(&quot;%d&quot;, &amp;a[i]);
for (int i = 1; i &lt;= n; i++) &#123;
    while (j &lt;= n) &#123;

        while (l1 &lt;= r1 &amp;&amp; a[j] &lt;= a[q1[r1]])r1--;
        q1[++r1] = j;
        while (l2 &lt;= r2 &amp;&amp; a[j] &gt;= a[q2[r2]])r2--;
        q2[++r2] = j;
        if (a[q2[l2]] - a[q1[l1]] &gt; k) &#123;
            break;
        &#125; else j++;
    &#125;
    ans += j - i;
    while (q1[l1] &lt;= i)l1++;
    while (q2[l2] &lt;= i)l2++;
&#125;
printf(&quot;%lld&quot;, ans);

return 0;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image-20210813204916760](C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210813204916760.png)</span><br><span class="line"></span><br><span class="line">#### 数组在1e6左右就可以开ll,再往上容易爆空间</span><br><span class="line"></span><br><span class="line">![image-20210814102346512](C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210814102346512.png)</span><br><span class="line"></span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const int N = 1e6 + 10;</span><br><span class="line">ll a[N];</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	</span><br><span class="line">	int t;</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;t);</span><br><span class="line">	while(t--) &#123;</span><br><span class="line">		ll sum=0;</span><br><span class="line">		ll n;</span><br><span class="line">		scanf(&quot;%lld&quot;,&amp;n);</span><br><span class="line">		for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">		scanf(&quot;%lld&quot;,&amp;a[i]);</span><br><span class="line">		sum+=a[i];	</span><br><span class="line">		&#125;</span><br><span class="line">		ll x=sum%n;</span><br><span class="line">		if(t!=0)</span><br><span class="line">		 printf(&quot;%lld\n&quot;,(n-x)*x);</span><br><span class="line">		 else </span><br><span class="line">		  printf(&quot;%lld&quot;,(n-x)*x);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">### 三分法求极值</span><br><span class="line"></span><br><span class="line">**二分搜索一般用于寻找正好满足某种条件的临界值，要求搜索区间满足单调性，而三分搜索一般是在凸函数或者凹函数上寻找极值。**`（二分是直线，三分是曲线）`</span><br><span class="line"></span><br><span class="line">二分搜索算法作为分治中最常见的方法，适用于单调函数，逼近求解某点的值</span><br><span class="line"></span><br><span class="line">## 原理</span><br><span class="line"></span><br><span class="line">假设函数图像在区间`[lo,hi]`是开口向上的曲线，那么区间内必有极大值，取三分点`m1`和`m2`，若`f(m1)&gt;f(m2)`，那么极大值位于`[lo,m2]`内，排除区间`[m2,hi]`；反之极大值区于`[m1,hi]`内，可排除`[lo,m1]`，时间复杂度为`O(logn)`。</span><br><span class="line"></span><br><span class="line">## B君的圆锥</span><br><span class="line"></span><br><span class="line">**题面**：已知圆锥的表面积为S，求它的体积V的最大值。</span><br><span class="line"></span><br><span class="line">**分析**：设圆锥半径为r，由于表面积S固定，直观上看，当r很小时圆锥虽然高，但太瘦，导致体积小；当r很大时圆锥胖，但太矮，体积也不大；应取合适的r值，使宽度和高度平衡，方能取到最大体积。</span><br><span class="line"></span><br><span class="line">```#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const double pi=3.1415926;</span><br><span class="line">double s;</span><br><span class="line">double getl(double r)&#123;//把它们都功能化，模块化</span><br><span class="line">	double x=s-pi*r*r;</span><br><span class="line">	return x/pi/r;</span><br><span class="line">&#125;</span><br><span class="line">double geth(double r)&#123;//这里运用到抽象化思维，也有分块化的思维，以及统一参数方便调用思想</span><br><span class="line">	double l=getl(r);</span><br><span class="line">	return sqrt(l*l-r*r);</span><br><span class="line">&#125;</span><br><span class="line">double col(double r)&#123;</span><br><span class="line">	double h=geth(r);</span><br><span class="line">	return pi*r*r*h/3.0;</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">	</span><br><span class="line">	cin&gt;&gt;s;</span><br><span class="line">	</span><br><span class="line">	double l0=0,r0=sqrt(s/pi);</span><br><span class="line">	while(r0-l0&gt;1e-6)&#123;//再通过while去过滤结果所在范围区间，就一个while就可，很神奇</span><br><span class="line">		double x=(r0-l0)/3.0;</span><br><span class="line">		double x1=l0+x;</span><br><span class="line">		double x2=l0+2*x;</span><br><span class="line">		if(col(x1)&gt;col(x2))&#123;//注意函数开口向下还是向上，这里的判断条件是不一样的</span><br><span class="line">			r0=x2;</span><br><span class="line">		&#125;</span><br><span class="line">		else l0=x1;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;%.6f&quot;,col(r0));</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210815115502124.png" alt="image-20210815115502124"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const double pi=3.1415926;</span><br><span class="line">const int N=5e4+10;</span><br><span class="line">double s[N],w[N];</span><br><span class="line">int n;</span><br><span class="line">double fun(double d)&#123;</span><br><span class="line">	double sum=0;</span><br><span class="line">	for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">		double u=fabs(d-s[i]);</span><br><span class="line">		sum+=u*u*u*w[i];</span><br><span class="line">	&#125;</span><br><span class="line">	return sum;</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">	int t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	for(int z=0;z&lt;t;z++)&#123;</span><br><span class="line">		</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	double lo=-1e6,ro=1e6;</span><br><span class="line">	for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;s[i]&gt;&gt;w[i];</span><br><span class="line">		lo=min(s[i],lo);</span><br><span class="line">		ro=max(s[i],ro);</span><br><span class="line">	&#125;</span><br><span class="line">	int end;</span><br><span class="line">	if(n==1)end=0;</span><br><span class="line">	else &#123;</span><br><span class="line">	while(ro-lo&gt;1e-6)&#123;</span><br><span class="line">			double x=(ro-lo)/3.0;</span><br><span class="line">			double x1=lo+x;</span><br><span class="line">			double x2=lo+2*x;</span><br><span class="line">			if(fun(x1)&lt;fun(x2))&#123;</span><br><span class="line">				ro=x2;</span><br><span class="line">				end=fun(x1);</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">			lo=x1;	</span><br><span class="line">			end=fun(x2);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		end=int(fun(ro)+0.5);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	printf(&quot;Case #%d: %d&quot;,z+1,end);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1<br>5<br>0.9 2<br>1.4 4<br>3.1 1<br>6.2 1<br>8.3 2<br>样例输出<br>Case #1: 300</p>
<h2 id="在整数内搜索"><a href="#在整数内搜索" class="headerlink" title="在整数内搜索"></a>在整数内搜索</h2><p>上面两个例子都是在实数范围内做三分搜索，当搜索区间长度小于指定精度时则停止。</p>
<p>如果要求取值必须为整数，三分搜索同样可以工作，区别在于循环终止时的处理：当<code>lo+2</code>等于<code>hi</code>时停止搜索，此时<code>m1=m2</code>，且<code>lo,m1,hi</code>是三个相邻的整数，分别计算函数在这三个点的取值，取三者的极值即可。</p>
<p>例如，求二次函数最大值</p>
<p>#include&lt;stdio.h&gt;</p>
<p>int num[11000];</p>
<p>int max(int x, int y)<br>{<br>    return x&gt;y ? x : y;<br>}</p>
<p>int TriSearch(int *num, int n, int left, int right)<br>{<br>    int mid&#x3D;0, midmid;<br>    while(left &lt; right)<br>    {<br>        if(left+1 &#x3D;&#x3D; right) return max(num[left],num[right]);<br>        mid &#x3D; (left+right)&#x2F;2;<br>        if(mid+1 &#x3D;&#x3D; right)<br>            midmid &#x3D; (mid+right)&#x2F;2+1;<br>        else<br>            midmid &#x3D; (mid+right)&#x2F;2;<br>        if(midmid &#x3D;&#x3D; right)<br>            return max(num[left], max(num[mid], num[right]));<br>        if(num[mid] &gt;&#x3D; num[midmid]) right &#x3D; midmid;<br>        else left &#x3D; mid;<br>    }<br>    return num[mid];<br>}</p>
<p>int main()<br>{<br>    int n;<br>    while(scanf(“%d”, &amp;n) !&#x3D; EOF)<br>    {<br>        for(int i&#x3D;0; i&lt;n; i++)<br>            scanf(“%d”, &amp;num[i]);<br>        int ans &#x3D; TriSearch(num, n, 0, n-1);<br>        printf(“%d\n”, ans);<br>    }<br>}</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210817082204748.png" alt="image-20210817082204748"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210817083527008.png" alt="image-20210817083527008"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210817083657283.png" alt="image-20210817083657283"></p>
<p>进制转换</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210817114225802.png" alt="image-20210817114225802"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> up(l,r,i) for(int i=l;i&lt;=r;i++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dn(l,r,i) for(int i=l;i&gt;=r;i--)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF =<span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN =<span class="number">1e6</span>+<span class="number">3</span>;</span><br><span class="line"><span class="type">bool</span> S[MAXN*<span class="number">4</span>],T[MAXN*<span class="number">4</span>]; <span class="type">int</span> p,q,ans,t;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">bool</span> *s,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">up</span>(p+<span class="number">2</span>,q+<span class="number">1</span>,i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i<span class="number">-2</span>]) s[i<span class="number">-2</span>]^=<span class="number">1</span>,s[i<span class="number">-1</span>]^=<span class="number">1</span>,s[i]^=<span class="number">1</span>,++ret;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s[q]) <span class="keyword">return</span> INF/<span class="number">2</span>; <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">while</span>((c=<span class="built_in">getchar</span>())!=<span class="string">&#x27;\n&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;\r&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c&gt;=<span class="string">&#x27;A&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;F&#x27;</span>) t=c-<span class="string">&#x27;A&#x27;</span>+<span class="number">10</span>; <span class="keyword">else</span> t=c-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        S[q++]=t&amp;<span class="number">8</span>,S[q++]=t&amp;<span class="number">4</span>,S[q++]=t&amp;<span class="number">2</span>,S[q++]=t&amp;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(p=<span class="number">0</span>;!S[p];++p); --q; <span class="built_in">memcpy</span>(T,S,<span class="built_in">sizeof</span>(S));</span><br><span class="line">    ans=<span class="built_in">calc</span>(S,p),T[p]^=<span class="number">1</span>,T[p+<span class="number">1</span>]^=<span class="number">1</span>,ans=<span class="built_in">min</span>(ans,<span class="built_in">calc</span>(T,p)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(ans&gt;=INF/<span class="number">2</span>) <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>); <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 注意这里的&amp;</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210817204945971.png" alt="image-20210817204945971"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const int N = 1e4 + 10;</span><br><span class="line">int d[N],c[N];</span><br><span class="line">set&lt;pair&lt;int, int&gt; &gt; existed;</span><br><span class="line">int main() &#123;</span><br><span class="line">	 ios::sync_with_stdio(false);</span><br><span class="line">	//ios::sync_with_stdio(false);</span><br><span class="line">	int n, p, h, m;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; p &gt;&gt; h &gt;&gt; m;</span><br><span class="line">	while (m--) &#123;</span><br><span class="line">		int a, b;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">		if (a &gt; b)swap(a, b);</span><br><span class="line">		if (!existed.count(&#123;a, b&#125;)) &#123;</span><br><span class="line">			existed.insert(&#123;a, b&#125;);</span><br><span class="line">			d[a + 1]--;</span><br><span class="line">			d[b]++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">		c[i] = c[i - 1] + d[i];</span><br><span class="line">		cout &lt;&lt; h + c[i] &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="离散化"><a href="#离散化" class="headerlink" title="离散化"></a>离散化</h4><p>数据离散化<br>定义：把无穷大集合中的若干个元素映射为有限集合以便于统计的方法。<br>当数据之间差值很大，即使排完序后，两个数之间仍有很大的差值，不适合直接用下标表示，这样会导致数组开的过大，容量不够，且中间有很多空没有用。针对这种情况，就想到把这间距很大的m个数据，在映射到[1-m]上，这样就会有效的减少数组的大小，且中间不会有浪费的空间。</p>
<p>步骤<br>1、用 lang 数组收集所有语言。<br>2、对 lang 数组排序、去重后保存到 uni 语言，uni也就是语言的稠密编号。<br>3、find 函数用于把原始的稀疏编号转变为稠密编号。<br>4、ans 数组记录每种语言的科学家数。即这门语言有多少科学家会。<br>5、遍历所有电影，以每部电影的语音语言为条件，在ans数组中找最大值，若有多个相同的最大值，就找字幕语言最多的。</p>
<p>代码片段<br>1.原始编号的范围是1−1091−109，数据范围过大，超出数组可以保存的最大范围，但观察到这么大的范围其实只使用了很少的一部分（105105 级别），故用uni数组存储稠密化的语言编号。<br>这时，需要一个find函数，完成从稀疏编号到稠密编号的转化。</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210818095948054.png" alt="image-20210818095948054"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">ll mod = 998244353;</span><br><span class="line">const int N = 2e5 + 50;</span><br><span class="line">int f[3*N],a[N],p[N*3],b[N],c[N],sum[3*N];//注意这里数组要开3倍，segment fault就是数组开小了</span><br><span class="line">int k;</span><br><span class="line">int res,ans1,ans2;</span><br><span class="line">int find(int x)&#123;</span><br><span class="line">	int end=lower_bound(f+1,f+1+k,x)-f;</span><br><span class="line">	return end;</span><br><span class="line">&#125;//通过find函数快速找到值对应的映射坐标</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	int n;</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">	int tot=0;</span><br><span class="line">	for(int i=1;i&lt;=n;i++) &#123;</span><br><span class="line">		scanf(&quot;%d&quot;,&amp;a[i]);</span><br><span class="line">		p[++tot]=a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	int m;</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;m);</span><br><span class="line">	for(int i=1;i&lt;=m;i++) &#123;</span><br><span class="line">			scanf(&quot;%d&quot;,&amp;b[i]);</span><br><span class="line">			p[++tot]=b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	for(int i=1;i&lt;=m;i++) &#123;</span><br><span class="line">				scanf(&quot;%d&quot;,&amp;c[i]);</span><br><span class="line">				p[++tot]=c[i];</span><br><span class="line">	&#125;</span><br><span class="line">	sort(p+1,p+tot+1);//先把数组都放转换数组中</span><br><span class="line">	for(int i=1; i&lt;=tot; i++) &#123;</span><br><span class="line">		if(i==1||p[i]!=p[i-1])f[++k]=p[i];</span><br><span class="line">		//将数组去重的放入最后的映射数组中</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	for(int i=1;i&lt;=n;i++)sum[find(a[i])]++;//记录每个语言有懂得的科学家人数</span><br><span class="line">    </span><br><span class="line">	for(int i=1;i&lt;=m;i++) &#123;</span><br><span class="line">		int anx=sum[find(b[i])];//B[I]是电影的语音语言编号，找到它对应的下标</span><br><span class="line">		int any=sum[find(c[i])];</span><br><span class="line">		if(anx&gt;ans1||(anx==ans1&amp;&amp;any&gt;ans2))</span><br><span class="line">		res=i,ans1=anx,ans2=any;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;%d&quot;,res);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="大根堆"><a href="#大根堆" class="headerlink" title="大根堆"></a>大根堆</h3><p>动态中位数</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210818105422493.png" alt="image-20210818105422493"></p>
<p>注意此题中的down.size()函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;                                                      <span class="comment">//T为数据集个数</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (T -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> id, n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;id, &amp;n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, id, n + <span class="number">1</span> &gt;&gt; <span class="number">1</span>);                      <span class="comment">//输出数据集编号和中位数个数(即奇数位个数)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        priority_queue&lt;<span class="type">int</span>&gt; down;                               <span class="comment">//大根堆</span></span><br><span class="line">        priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; up;      <span class="comment">//小根堆</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;                                            <span class="comment">//用于分隔输出,每十个数一行</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (down.<span class="built_in">empty</span>() || x &lt;= down.<span class="built_in">top</span>()) down.<span class="built_in">push</span>(x);  <span class="comment">//下面为空或x小于下方堆顶,则将x插入大根堆</span></span><br><span class="line">            <span class="keyword">else</span> up.<span class="built_in">push</span>(x);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果有偶数个数,上面和下面一样多,如果有奇数个数,则下面比上面多一个</span></span><br><span class="line">            <span class="keyword">if</span> (down.<span class="built_in">size</span>() &gt; up.<span class="built_in">size</span>() + <span class="number">1</span>) up.<span class="built_in">push</span>(down.<span class="built_in">top</span>()), down.<span class="built_in">pop</span>();   <span class="comment">//下面多了挤一个放上面</span></span><br><span class="line">            <span class="keyword">if</span> (up.<span class="built_in">size</span>() &gt; down.<span class="built_in">size</span>()) down.<span class="built_in">push</span>(up.<span class="built_in">top</span>()), up.<span class="built_in">pop</span>();         <span class="comment">//上面多了挤一个放下面</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)                                     <span class="comment">//每插入奇数个数就输出一次中位数</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, down.<span class="built_in">top</span>());</span><br><span class="line">                <span class="keyword">if</span> ( ++ cnt % <span class="number">10</span> == <span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cnt % <span class="number">10</span>) <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);                                 <span class="comment">//不是整十数行,就手动输入一个空行</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用函数复制栈，实现栈的转置</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="type">void</span> <span class="title">f_copy</span><span class="params">(stack&lt;<span class="type">int</span>&gt; &amp;a,stack&lt;<span class="type">int</span>&gt; &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(a.<span class="built_in">size</span>())&#123;</span><br><span class="line">        b.<span class="built_in">push</span>(a.<span class="built_in">top</span>());</span><br><span class="line">        a.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="built_in">f_copy</span>(mystk,my_cpy);</span><br><span class="line">      <span class="type">int</span> x=my_cpy.<span class="built_in">top</span>();</span><br><span class="line">      my_cpy.<span class="built_in">pop</span>();</span><br><span class="line">      <span class="built_in">f_copy</span>(my_cpy, mystk);</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>小组队列</p>
<p>queue的运用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e6</span>+<span class="number">10</span>,M=<span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> teamId[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	 <span class="type">int</span> n,C=<span class="number">1</span>;</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">while</span>(cin&gt;&gt;n,n)&#123;</span><br><span class="line">	 </span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Scenario #&quot;</span> &lt;&lt; C++ &lt;&lt; endl;</span><br><span class="line">	 	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		 	<span class="type">int</span> cnt;</span><br><span class="line">		 	cin&gt;&gt;cnt;</span><br><span class="line">		 	<span class="keyword">while</span>(cnt--)&#123;</span><br><span class="line">			 	<span class="type">int</span> x;</span><br><span class="line">			 	cin&gt;&gt;x;</span><br><span class="line">			 	teamId[x]=i;</span><br><span class="line">			 &#125;</span><br><span class="line">			 </span><br><span class="line">		 &#125;</span><br><span class="line">		 </span><br><span class="line">		queue &lt;<span class="type">int</span>&gt; team;</span><br><span class="line">		queue &lt;<span class="type">int</span>&gt; person[M];</span><br><span class="line">		 string command;</span><br><span class="line">		 <span class="keyword">while</span>(cin&gt;&gt;command,command!=<span class="string">&quot;STOP&quot;</span>)&#123;</span><br><span class="line">		 	<span class="keyword">if</span>(command == <span class="string">&quot;ENQUEUE&quot;</span>)&#123;</span><br><span class="line">			 	</span><br><span class="line">			 	<span class="type">int</span> x;</span><br><span class="line">			 	cin&gt;&gt;x;</span><br><span class="line">			 <span class="type">int</span> tid=teamId[x];</span><br><span class="line">			 <span class="keyword">if</span>(person[tid].<span class="built_in">empty</span>())team.<span class="built_in">push</span>(tid);</span><br><span class="line">			 person[tid].<span class="built_in">push</span>(x);</span><br><span class="line">			 &#125;</span><br><span class="line">			 <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="type">int</span> tid=team.<span class="built_in">front</span>();</span><br><span class="line">			 <span class="keyword">auto</span> &amp;q=person[tid];</span><br><span class="line">			 cout&lt;&lt;q.<span class="built_in">front</span>()&lt;&lt;endl;</span><br><span class="line">			 q.<span class="built_in">pop</span>();</span><br><span class="line">			 </span><br><span class="line">			 <span class="keyword">if</span>(q.<span class="built_in">empty</span>())team.<span class="built_in">pop</span>();</span><br><span class="line">			 &#125;</span><br><span class="line">		 &#125;</span><br><span class="line">		 cout&lt;&lt;endl;</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用数组模拟队列(一般ss&#x3D;0,tt&#x3D;-1)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e6</span>+<span class="number">10</span>,M=<span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="type">int</span> ss=<span class="number">0</span>,tt=<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		string str;</span><br><span class="line">	</span><br><span class="line">		cin&gt;&gt;str;</span><br><span class="line">		<span class="keyword">if</span>(str==<span class="string">&quot;push&quot;</span>)&#123;</span><br><span class="line">			<span class="type">int</span> x;</span><br><span class="line">			cin&gt;&gt;x;</span><br><span class="line">			a[++tt]=x;</span><br><span class="line">		&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(str==<span class="string">&quot;empty&quot;</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(ss&gt;tt)cout&lt;&lt;<span class="string">&quot;YES&quot;</span>&lt;&lt;endl;</span><br><span class="line">				<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br><span class="line">				&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(str==<span class="string">&quot;query&quot;</span>)&#123;</span><br><span class="line">				</span><br><span class="line">					cout&lt;&lt;a[ss]&lt;&lt;endl;</span><br><span class="line">				&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(str==<span class="string">&quot;pop&quot;</span>)&#123;</span><br><span class="line">					</span><br><span class="line">				ss++;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最大自序和</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210819135750963.png" alt="image-20210819135750963"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll INT_MIN = <span class="number">-0X3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line">ll s[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; s[i];</span><br><span class="line">		s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> hh =<span class="number">0</span>, tt = <span class="number">0</span>;</span><br><span class="line">	ll res = INT_MIN;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(i-q[hh]&gt;m)hh++;</span><br><span class="line">		res=<span class="built_in">max</span>(res,s[i]-s[q[hh]]);</span><br><span class="line">		<span class="keyword">while</span> (hh&lt;=tt &amp;&amp; s[q[tt]] &gt;= s[i])tt--;</span><br><span class="line">		q[++tt]=i;</span><br><span class="line">		&#125;</span><br><span class="line">	cout&lt;&lt;res;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>卡特兰数就是</p>
<p>C2n n&#x2F;(n+1)</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210820211632752.png" alt="image-20210820211632752"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210820211653641.png" alt="image-20210820211653641"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll c[<span class="number">40</span>][<span class="number">40</span>];</span><br><span class="line">ll n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n*<span class="number">2</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=i;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!j)c[i][j]=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> c[i][j]=c[i<span class="number">-1</span>][j<span class="number">-1</span>]+c[i<span class="number">-1</span>][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;c[n*<span class="number">2</span>][n]/(n+<span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>括号画家</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">string str;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line"> 	cin&gt;&gt;str;</span><br><span class="line"> 	 stack&lt;<span class="type">int</span>&gt;stk;</span><br><span class="line"> 	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;str.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">	 	<span class="type">char</span> c=str[i];</span><br><span class="line">	 	<span class="keyword">if</span>(stk.<span class="built_in">size</span>())&#123;</span><br><span class="line">		 	<span class="type">char</span> t=str[stk.<span class="built_in">top</span>()];</span><br><span class="line">		 	<span class="keyword">if</span>(c==<span class="string">&#x27;)&#x27;</span>&amp;&amp;t==<span class="string">&#x27;(&#x27;</span>||c==<span class="string">&#x27;]&#x27;</span>&amp;&amp;t==<span class="string">&#x27;[&#x27;</span>||c==<span class="string">&#x27;&#125;&#x27;</span>&amp;&amp;t==<span class="string">&#x27;&#123;&#x27;</span>)&#123;</span><br><span class="line">			 	stk.<span class="built_in">pop</span>();</span><br><span class="line">			 &#125;</span><br><span class="line">			 <span class="keyword">else</span> stk.<span class="built_in">push</span>(i);</span><br><span class="line">		 &#125;</span><br><span class="line">		 <span class="keyword">else</span> stk.<span class="built_in">push</span>(i);</span><br><span class="line">		 <span class="keyword">if</span>(stk.<span class="built_in">size</span>()) res=<span class="built_in">max</span>(res,i-stk.<span class="built_in">top</span>());</span><br><span class="line">		 <span class="keyword">else</span> res=<span class="built_in">max</span>(res,i+<span class="number">1</span>);</span><br><span class="line">	 &#125;</span><br><span class="line">	 cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>并查集</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p[x]!=x) p[x]=<span class="built_in">find</span>(p[x]);<span class="comment">//父节点等于祖宗结点</span></span><br><span class="line">	<span class="keyword">return</span> p[x];<span class="comment">//返回祖宗结点，这里必须是p[x]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)p[i]=i;<span class="comment">//注意初始化</span></span><br><span class="line">	<span class="type">int</span> m;</span><br><span class="line">	cin&gt;&gt;m;</span><br><span class="line">	<span class="keyword">while</span>(m--)&#123;</span><br><span class="line">		<span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">		<span class="type">int</span> a,b;</span><br><span class="line">		cin&gt;&gt;op&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		<span class="keyword">if</span>(*op==<span class="string">&#x27;M&#x27;</span>)p[<span class="built_in">find</span>(a)]=<span class="built_in">find</span>(b);<span class="comment">//让a的祖宗结点连向b的祖宗结点</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b))<span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>\837. 连通块中点的数量</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210822105051345.png" alt="image-20210822105051345"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> p[N],s[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p[x]!=x) p[x]=<span class="built_in">find</span>(p[x]);</span><br><span class="line">	<span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> n,m;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">	p[i]=i;	</span><br><span class="line">	s[i]=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(m--)&#123;</span><br><span class="line">		<span class="type">char</span> op[<span class="number">5</span>];</span><br><span class="line">		<span class="type">int</span> a,b;</span><br><span class="line">		cin&gt;&gt;op;</span><br><span class="line">		<span class="keyword">if</span>(*op==<span class="string">&#x27;C&#x27;</span>)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b))<span class="keyword">continue</span>;</span><br><span class="line">			s[<span class="built_in">find</span>(b)]+=s[<span class="built_in">find</span>(a)];<span class="comment">//这里一定要先把人数加好了，再去连边</span></span><br><span class="line">		    p[<span class="built_in">find</span>(a)]=<span class="built_in">find</span>(b);	</span><br><span class="line">	</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(op[<span class="number">1</span>]==<span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b))<span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">				cout&lt;&lt;s[<span class="built_in">find</span>(a)]&lt;&lt;endl;</span><br><span class="line">			<span class="comment">//printf(&quot;%d\n&quot;,s[find(a)]);</span></span><br><span class="line">		</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>格子游戏</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210822142319332.png" alt="image-20210822142319332"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">40010</span>;</span><br><span class="line"><span class="type">int</span> p[N],s[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p[x]!=x)p[x]=<span class="built_in">find</span>(p[x]);</span><br><span class="line">	<span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a*n+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="type">int</span> m;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n*n;i++)&#123;</span><br><span class="line">		p[i]=i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">		<span class="type">char</span> d;</span><br><span class="line">		cin&gt;&gt;x&gt;&gt;y&gt;&gt;d;</span><br><span class="line">		x--,y--;</span><br><span class="line">		<span class="type">int</span> a=<span class="built_in">get</span>(x,y);</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">		<span class="keyword">if</span>(d==<span class="string">&#x27;D&#x27;</span>) b=<span class="built_in">get</span>(x+<span class="number">1</span>,y);</span><br><span class="line">		<span class="keyword">else</span> b=<span class="built_in">get</span>(x,y+<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b))&#123;</span><br><span class="line">			res=i;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			p[<span class="built_in">find</span>(a)]=<span class="built_in">find</span>(b);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(res==<span class="number">0</span>)cout&lt;&lt;<span class="string">&quot;draw&quot;</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>阶乘</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210822183554506.png" alt="image-20210822183554506"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">40010</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> res=<span class="number">1</span>,d2=<span class="number">0</span>,d5=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="type">int</span> x=i;</span><br><span class="line">		<span class="keyword">while</span>( x%<span class="number">2</span> == <span class="number">0</span>) x/=<span class="number">2</span>, d2++;</span><br><span class="line">		<span class="keyword">while</span>( x%<span class="number">5</span> == <span class="number">0</span>) x/=<span class="number">5</span>, d5++;</span><br><span class="line">		res=res*x%<span class="number">10</span>;<span class="comment">//阶乘中积为10就除掉它，算出最后%10的值</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> k=<span class="built_in">min</span>(d2,d5);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;d2-k;i++)res=res*<span class="number">2</span>%<span class="number">10</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;d5-k;i++)res=res*<span class="number">5</span>%<span class="number">10</span>;</span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>约数之和</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210822193437711.png" alt="image-20210822193437711"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210822193518750.png" alt="image-20210822193518750"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">40010</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">9901</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qmi</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	a%=mod;</span><br><span class="line">	<span class="type">int</span> end=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(k)&#123;</span><br><span class="line">		<span class="keyword">if</span>(k&amp;<span class="number">1</span>)end=end*a%mod;</span><br><span class="line">		a=a*a%mod;</span><br><span class="line">		k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> end;	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(k==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(k%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> (p%mod*<span class="built_in">sum</span>(p,k<span class="number">-1</span>) + <span class="number">1</span>) % mod ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> (<span class="number">1</span> + <span class="built_in">qmi</span>(p,k/<span class="number">2</span>+<span class="number">1</span>)) * <span class="built_in">sum</span>(p,k/<span class="number">2</span>)%mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> A,B;</span><br><span class="line">	cin&gt;&gt;A&gt;&gt;B;</span><br><span class="line">	<span class="type">int</span> res=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=A;i++)&#123;</span><br><span class="line">		<span class="type">int</span>  s = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(A%i==<span class="number">0</span>)&#123;</span><br><span class="line">			s++;</span><br><span class="line">			A/=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(s)&#123;</span><br><span class="line">			res=res*<span class="built_in">sum</span>(i,s*B)%mod;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(!A) res=<span class="number">0</span>;</span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>矩阵距离</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210823161119204.png" alt="image-20210823161119204"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210823161143158.png" alt="image-20210823161143158"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="type">int</span> d[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(d,<span class="number">-1</span>,<span class="keyword">sizeof</span> d);</span><br><span class="line">	queue&lt;pii&gt; q;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(g[i][j]==<span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">				q.<span class="built_in">push</span>(&#123;i,j&#125;);</span><br><span class="line">				d[i][j]=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(q.<span class="built_in">size</span>())&#123;</span><br><span class="line">		<span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="type">int</span> x=t.first,y=t.second;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">			<span class="type">int</span> a=x+dx[i];</span><br><span class="line">			<span class="type">int</span> b=y+dy[i];</span><br><span class="line">			<span class="keyword">if</span>(a&gt;=<span class="number">0</span>&amp;&amp;a&lt;n&amp;&amp;b&gt;=<span class="number">0</span>&amp;&amp;b&lt;m&amp;&amp;d[a][b]==<span class="number">-1</span>)&#123;</span><br><span class="line">				d[a][b]=d[x][y]+<span class="number">1</span>;</span><br><span class="line">				q.<span class="built_in">push</span>(&#123;a,b&#125;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	 ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,g[i]);</span><br><span class="line">	<span class="built_in">bfs</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,d[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>走迷宫</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210823163916719.png" alt="image-20210823163916719"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"><span class="type">int</span> d[N][N];</span><br><span class="line">pii q[N*N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(d,<span class="number">-1</span>,<span class="keyword">sizeof</span> d);</span><br><span class="line">	<span class="type">int</span> hh=<span class="number">0</span>,tt=<span class="number">0</span>;</span><br><span class="line">	q[<span class="number">0</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">	d[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(hh&lt;=tt)&#123;</span><br><span class="line">		<span class="keyword">auto</span> t= q[hh++];</span><br><span class="line">		<span class="type">int</span> x=t.first;</span><br><span class="line">		<span class="type">int</span> y=t.second;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">			<span class="type">int</span> a=x+dx[i];</span><br><span class="line">			<span class="type">int</span> b=y+dy[i];</span><br><span class="line">			<span class="keyword">if</span>(a&gt;=<span class="number">0</span>&amp;&amp;a&lt;n&amp;&amp;b&gt;=<span class="number">0</span>&amp;&amp;b&lt;m&amp;&amp;g[a][b]==<span class="number">0</span>&amp;&amp;d[a][b]==<span class="number">-1</span>)&#123;</span><br><span class="line">				d[a][b]=d[x][y]+<span class="number">1</span>;</span><br><span class="line">				q[++tt]=&#123;a,b&#125;;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> d[n<span class="number">-1</span>][m<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	 ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;g[i][j]);</span><br><span class="line">	<span class="type">int</span> res=<span class="built_in">bfs</span>();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,res);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>八数码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> fact[<span class="number">9</span>];</span><br><span class="line"><span class="type">bool</span> vis[<span class="number">362880</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">permutation_hash</span><span class="params">(<span class="type">char</span> s[])</span>          <span class="comment">//求长度为9的字符串某种排列的哈希值</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j ++)</span><br><span class="line">            <span class="keyword">if</span>(s[j] &gt; s[i])  d ++;      <span class="comment">//求s[i]与其前面的字符组成的逆序对个数</span></span><br><span class="line">        ans += d * fact[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="type">char</span> s[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="type">int</span> k;          <span class="comment">//&#x27;x&#x27;在第k位</span></span><br><span class="line">&#125;Point;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>,<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(Point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vis[<span class="built_in">permutation_hash</span>(p.s)] = <span class="literal">true</span>;</span><br><span class="line">    queue&lt;Point&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(p);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        p = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        printf(&quot;%d &quot;,p.step);       //print调试法</span></span><br><span class="line"><span class="comment">        puts(p.s);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(p.s , <span class="string">&quot;12345678x&quot;</span>))  <span class="keyword">return</span> p.step;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> x = p.k / <span class="number">3</span>;      <span class="comment">//&#x27;x&#x27;的行数</span></span><br><span class="line">        <span class="type">int</span> y = p.k % <span class="number">3</span>;      <span class="comment">//&#x27;x&#x27;的列数</span></span><br><span class="line">        Point next;</span><br><span class="line">        next.step = p.step + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> nx = x + dx[i];</span><br><span class="line">            <span class="type">int</span> ny = y + dy[i];</span><br><span class="line">            <span class="keyword">if</span>(nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt;= <span class="number">2</span> &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt;= <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                next.k = nx * <span class="number">3</span> + ny;           <span class="comment">//求出&#x27;x&#x27;在字符串中的的新位置</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">strcpy</span>(next.s, p.s);</span><br><span class="line">                next.s[<span class="number">9</span>] = <span class="number">0</span>;</span><br><span class="line">                next.s[p.k] = p.s[next.k];      <span class="comment">//先用即将和&#x27;x&#x27;交换的字符覆盖&#x27;x&#x27;之前的位置</span></span><br><span class="line">                next.s[next.k] = <span class="string">&#x27;x&#x27;</span>;           <span class="comment">//再给&#x27;x&#x27;的新位置赋值&#x27;x&#x27;</span></span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> hash = <span class="built_in">permutation_hash</span>(next.s);</span><br><span class="line">                <span class="keyword">if</span>(!vis[hash])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[hash] = <span class="literal">true</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fact[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">9</span>; i ++)  fact[i] = fact[i - <span class="number">1</span>] * i;    <span class="comment">//预处理fact[i] = i!</span></span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> c[<span class="number">2</span>],str[<span class="number">10</span>];</span><br><span class="line">    Point start;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;c);</span><br><span class="line">        <span class="keyword">if</span>(c[<span class="number">0</span>] == <span class="string">&#x27;x&#x27;</span>)  start.k = i;</span><br><span class="line">        start.s[i] = c[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    start.s[<span class="number">9</span>] = <span class="number">0</span>;</span><br><span class="line">    start.step = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,<span class="built_in">bfs</span>(start));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">。</span><br></pre></td></tr></table></figure>

<p>dfs八皇后问题</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="type">int</span> d[N][N];</span><br><span class="line">pii q[N*N];</span><br><span class="line"><span class="type">int</span> path[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">bool</span> col[N],dg[N],udg[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(u==n)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">puts</span>(g[i]);</span><br><span class="line">		<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!col[i]&amp;&amp;!dg[i+u]&amp;&amp;!udg[i-u+n])&#123;</span><br><span class="line">			g[u][i]=<span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">			col[i]=<span class="literal">true</span>;</span><br><span class="line">			dg[i+u]=<span class="literal">true</span>;</span><br><span class="line">			udg[i-u+n]=<span class="literal">true</span>;</span><br><span class="line">			<span class="built_in">dfs</span>(u+<span class="number">1</span>);</span><br><span class="line">			col[i]=dg[i+u]=udg[i-u+n]=<span class="literal">false</span>;</span><br><span class="line">			g[u][i]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	 ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	 cin&gt;&gt;n;</span><br><span class="line">	 <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	 <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">	 g[i][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用优先队列和pair数组</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210824100933280.png" alt="image-20210824100933280"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">9901</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*struct node&#123;</span></span><br><span class="line"><span class="comment">	int v, id;</span></span><br><span class="line"><span class="comment">	bool operator &lt; (node b) const&#123;return v&gt;b.v;&#125;</span></span><br><span class="line"><span class="comment">&#125;;*/</span></span><br><span class="line"><span class="type">int</span> h[N], cc[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> T;</span><br><span class="line">	cin&gt;&gt;T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="type">int</span> n,m,x;</span><br><span class="line">		cin&gt;&gt;n&gt;&gt;m&gt;&gt;x;</span><br><span class="line">		priority_queue&lt;pii,vector&lt;pii&gt; ,greater&lt;pii&gt; &gt; p;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">			<span class="type">int</span> t;</span><br><span class="line">			cin&gt;&gt;t;</span><br><span class="line">			p.<span class="built_in">push</span>(&#123;t,i&#125;);</span><br><span class="line">			h[i]=<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> e=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(p.<span class="built_in">size</span>())&#123;</span><br><span class="line">			<span class="keyword">auto</span> t=p.<span class="built_in">top</span>();</span><br><span class="line">			p.<span class="built_in">pop</span>();</span><br><span class="line">			h[e]+=t.first;</span><br><span class="line">		<span class="comment">//	h[e]+=t.v;</span></span><br><span class="line">			cc[t.second]=e;</span><br><span class="line">		<span class="comment">//	cc[t.id]=e;</span></span><br><span class="line">			e++;</span><br><span class="line">			<span class="keyword">if</span>(e==m+<span class="number">1</span>)e=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> mx = <span class="number">0</span>, mi = <span class="number">1e9</span>+<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">			mx=<span class="built_in">max</span>(mx,h[i]);</span><br><span class="line">			mi=<span class="built_in">min</span>(mx,h[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(mx-mi&gt;x)cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">				cout&lt;&lt;cc[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cout&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>codeforces</p>
<p>8&#x2F;24</p>
<p>先预处理出每个洞穴的最小进入值，再把其进入值和出洞穴的值都存下来，放pair数组中，按first排序，先初始化l,r为第一组的值，之后读取里面的first值，如果上一个洞穴的second值小于first值，维护一个左右区间，（延伸右区间，或增加左区间）</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210826150637971.png" alt="image-20210826150637971"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>, mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> n, a[N];</span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">   cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="type">int</span> T;</span><br><span class="line">   cin &gt;&gt; T;</span><br><span class="line">   <span class="keyword">while</span>(T--)</span><br><span class="line">  &#123;</span><br><span class="line">       cin &gt;&gt; n;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">      &#123;</span><br><span class="line">           <span class="type">int</span> t;</span><br><span class="line">           cin &gt;&gt; t;</span><br><span class="line">           <span class="type">int</span> maxa = <span class="number">0</span>;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; t; j++)</span><br><span class="line">          &#123;</span><br><span class="line">               cin &gt;&gt; a[j];</span><br><span class="line">               maxa = <span class="built_in">max</span>(maxa, a[j] - j + <span class="number">1</span>);</span><br><span class="line">          &#125;</span><br><span class="line">           p[i] = &#123;maxa, maxa + t&#125;;</span><br><span class="line">           <span class="comment">//cout &lt;&lt; p[i].x &lt;&lt; &#x27; &#x27; &lt;&lt; p[i].y &lt;&lt; endl;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="built_in">sort</span>(p, p + n);</span><br><span class="line"></span><br><span class="line">       <span class="type">int</span> ans = p[<span class="number">0</span>].x;</span><br><span class="line">       <span class="type">int</span> l = p[<span class="number">0</span>].x, r = p[<span class="number">0</span>].y;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">      &#123;</span><br><span class="line">           <span class="keyword">if</span>(p[i].x &lt;= r)</span><br><span class="line">          &#123;</span><br><span class="line">               r += p[i].y - p[i].x;<span class="comment">//如果能满足这一组，那么有区间加上下一组的增加的值</span></span><br><span class="line">          &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">          &#123;</span><br><span class="line">               l += p[i].x - r;<span class="comment">//如果不能满足这一组，那么左区间就要加上中间的差值来满足能击杀这一组</span></span><br><span class="line">               r = p[i].y;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">       cout &lt;&lt; l &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>B题</p>
<p>思维题（羽毛球谁是后手得分）</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210826151705693.png" alt="image-20210826151705693"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> debug(a) cout &lt;&lt; #a &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>, mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">   cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="type">int</span> T;</span><br><span class="line">   cin &gt;&gt; T;</span><br><span class="line">   <span class="keyword">while</span>(T--)</span><br><span class="line">  &#123;</span><br><span class="line">       <span class="type">int</span> a, b;</span><br><span class="line">       cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">       <span class="type">int</span> sum = (a + b) / <span class="number">2</span>;</span><br><span class="line">       <span class="type">int</span> t = sum - <span class="built_in">min</span>(a, b);</span><br><span class="line"></span><br><span class="line">       vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">       <span class="keyword">if</span>((a + b) % <span class="number">2</span>)</span><br><span class="line">      &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> i = t; i &lt;= a + b - t; i++)</span><br><span class="line">          &#123;</span><br><span class="line">               res.<span class="built_in">push_back</span>(i);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> i = t; i &lt;= a + b - t; i += <span class="number">2</span>)</span><br><span class="line">          &#123;</span><br><span class="line">               res.<span class="built_in">push_back</span>(i);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">       cout &lt;&lt; res.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">auto</span> i : res)</span><br><span class="line">      &#123;</span><br><span class="line">           cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">       cout &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>A.模拟题（枚举进行几轮变换，可把数组排好序）</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210826151803522.png" alt="image-20210826151803522"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">            b[i]=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(b+<span class="number">1</span>,b+<span class="number">1</span>+n);</span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> times=<span class="number">1</span>;;times++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> ok=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]!=b[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    ok=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ok)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(times&amp;<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i+=<span class="number">2</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(a[i]&gt;a[i+<span class="number">1</span>])</span><br><span class="line">                        <span class="built_in">swap</span>(a[i],a[i+<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i+=<span class="number">2</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(a[i]&gt;a[i+<span class="number">1</span>])</span><br><span class="line">                        <span class="built_in">swap</span>(a[i],a[i+<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>codeforces</p>
<p>8&#x2F;27</p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210827174614913.png" alt="image-20210827174614913"></p>
<p><img src="C:\Users\84986\AppData\Roaming\Typora\typora-user-images\image-20210827174544126.png" alt="image-20210827174544126"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> prime[<span class="number">110</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">string s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;1&#x27;</span> || s[i] == <span class="string">&#x27;4&#x27;</span> || s[i] == <span class="string">&#x27;6&#x27;</span> || s[i] == <span class="string">&#x27;8&#x27;</span> || s[i] == <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">            cout &lt;&lt; s[i] &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!prime[(s[i] - <span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (s[j] - <span class="string">&#x27;0&#x27;</span>)]) &#123;</span><br><span class="line">                cout &lt;&lt; <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">                cout &lt;&lt; s[i] &lt;&lt; s[j] &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>)-&gt;<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br><span class="line">        prime[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j * j &lt;= i; ++j)</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>)prime[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> _; <span class="keyword">for</span> (cin &gt;&gt; _; _--;) &#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; s;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="false"
        data-ae="false"
        data-ci=""
        data-cs=""
        data-r=""
        data-o=""
        data-a=""
        data-d="false"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
